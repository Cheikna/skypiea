<mdb-navbar id="navbar" SideClass="navbar navbar-expand-lg" [containerInside]="false">
    <a [routerLink]="['/']">
        <img src="assets/images/logos/skypiea.png" class="project-image">
    </a>
    <span class="environment">{{environmentVariables.environmentTitle}}</span>
    <links>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item" *appUserVisibility="['NOT_CONNECTED']">
                <a class="nav-link waves-effect" mdbWavesEffect [routerLink]="['/personnalForm']">
                    <mdb-icon fas icon="user"></mdb-icon> Create account
                </a>
            </li>
            <li class="nav-item" *appUserVisibility="['NOT_CONNECTED']">
                <a class="nav-link waves-effect" mdbWavesEffect (click)="openSignInDialog()">
                    <mdb-icon fas icon="user"></mdb-icon> Sign In
                </a>
            </li>
            <li class="nav-item" *appUserVisibility="['STAFF']">
                <button class="btn dropdown-toggle" mat-button [matMenuTriggerFor]="monitoringFailureMenu">
                    <mdb-icon fas icon="desktop"></mdb-icon> Rooms Monitoring & Failures
                </button>
                <mat-menu #monitoringFailureMenu="matMenu">
                    <button mat-menu-item [routerLink]="['/monitoring']">
                        <mdb-icon fas icon="wifi"></mdb-icon>&nbsp; Real-time monitoring
                    </button>
                    <button mat-menu-item [routerLink]="['/monitoring/event-history']">
                        <mdb-icon fas icon="history"></mdb-icon>&nbsp; Event history
                    </button>
                </mat-menu>
            </li>
            <li class="nav-item" *appUserVisibility="['RESIDENT']">
                <a class="nav-link waves-effect" mdbWavesEffect [routerLink]="['/ObjectList']">
                    <mdb-icon fas icon="network-wired"></mdb-icon> My Smart Objects
                </a>
            </li>
            <li class="nav-item" *appUserVisibility="['STAFF']">
                <a class="nav-link waves-effect" mdbWavesEffect>
                    <mdb-icon fas icon="briefcase-medical"></mdb-icon> Health Monitoring
                </a>
            </li>
          <li class="nav-item" *appUserVisibility="['STAFF']">
                <a class="nav-link waves-effect" mdbWavesEffect [routerLink]="['/tracklist']">
                    <mdb-icon fas icon="map-marker-alt"></mdb-icon> Tracking
                </a>
            </li>
            <li class="nav-item" *appUserVisibility="['STAFF']">
                <a class="nav-link waves-effect" mdbWavesEffect [routerLink]="['/analysis']">
                    <mdb-icon fas icon="chart-bar"></mdb-icon> Analysis
                </a>
            </li>
            <li class="nav-item" *appUserVisibility="['STAFF', 'RESIDENT']">
                <button class="btn dropdown-toggle" mat-button [matMenuTriggerFor]="myAccountMenu">
                    <mdb-icon fas icon="user-circle"></mdb-icon> My Account
                </button>
                <mat-menu #myAccountMenu="matMenu">
                    <button mat-menu-item>Hello {{ userInfo?.lastName | uppercase }} {{ userInfo?.firstName }}</button>
                    <button mat-menu-item>Last visit : {{ userInfo?.lastConnectionDate | date: 'd MMM y, h:mm a' }}</button>
                    <button mat-menu-item (click)="logout()">
                        <mdb-icon fas icon="sign-out-alt"></mdb-icon> Logout
                    </button>
                </mat-menu>
            </li>
            <li class="nav-item" *appUserVisibility="['NOT_CONNECTED']">
                <a class="nav-link waves-effect" mdbWavesEffect [routerLink]="['/personnalForm']">
                    <mdb-icon fas icon="glass-cheers"></mdb-icon> Join us
                </a>
            </li>
        </ul>
    </links>
</mdb-navbar>